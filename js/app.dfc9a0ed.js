(function(t){function e(e){for(var r,i,s=e[0],c=e[1],u=e[2],d=0,b=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&b.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/FastAPI-Auth-CRUD/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0164":function(t,e,n){"use strict";n("e455")},"2e4a":function(t,e,n){"use strict";n("d110")},"2f13":function(t,e,n){"use strict";n("308d")},"308d":function(t,e,n){},"4f8a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o={class:"d-flex flex-column h-100"},a={class:"flex-shrink-0"};function i(t,e,n,i,s,c){var u=Object(r["D"])("header-nav"),l=Object(r["D"])("router-view"),d=Object(r["D"])("v-footer");return Object(r["w"])(),Object(r["e"])("body",o,[Object(r["i"])("main",a,[Object(r["i"])(u,{class:"w-100 mb-5"}),Object(r["i"])(l)]),Object(r["i"])(d,{class:"footer mt-auto py-3 bg-light"})])}var s=Object(r["N"])("data-v-3f4f0353");Object(r["z"])("data-v-3f4f0353");var c={class:""},u={class:"pb-4 pt-4 w-100 navbar navbar-expand-md navbar-light bg-light",style:{width:"-webkit-fill-available"}},l={class:"container"},d=Object(r["i"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(r["i"])("span",{class:"navbar-toggler-icon"})],-1),b={class:"collapse navbar-collapse",id:"navbarSupportedContent"},h={key:0,class:"navbar-nav ms-auto mb-2mb-lg-0"},p={class:"nav-item dropdown"},f=Object(r["i"])("a",{href:"",class:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Login/Register ",-1),g={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},m=Object(r["h"])("Login"),v=Object(r["h"])("Register"),O={key:1,class:"navbar-nav ms-auto mb-2 mb-lg-0"},j={class:"nav-item dropdown"},w={class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},k=Object(r["i"])("li",null,[Object(r["i"])("a",{class:"dropdown-item",href:"#"},"Profile")],-1),x=Object(r["i"])("li",null,[Object(r["i"])("a",{class:"dropdown-item",href:"#"},"Account")],-1),A=Object(r["i"])("li",null,[Object(r["i"])("hr",{class:"dropdown-divider"})],-1);Object(r["x"])();var S=s((function(t,e,n,o,a,i){var S=Object(r["D"])("router-link");return Object(r["w"])(),Object(r["e"])("div",c,[Object(r["i"])("nav",u,[Object(r["i"])("div",l,[Object(r["i"])("a",{class:"navbar-brand user-select-none ",type:"",onClick:e[1]||(e[1]=function(){return i.goToHomePage&&i.goToHomePage.apply(i,arguments)})},"FastAPI Auth CRUD"),d,Object(r["i"])("div",b,[0==t.getLoginStatus||null==t.getLoginStatus?(Object(r["w"])(),Object(r["e"])("ul",h,[Object(r["i"])("li",p,[f,Object(r["i"])("ul",g,[Object(r["i"])("li",null,[Object(r["i"])(S,{class:"dropdown-item",to:"/login"},{default:s((function(){return[m]})),_:1})]),Object(r["i"])("li",null,[Object(r["i"])(S,{class:"dropdown-item",to:"/register"},{default:s((function(){return[v]})),_:1})])])])])):(Object(r["w"])(),Object(r["e"])("ul",O,[Object(r["i"])("li",j,[Object(r["i"])("a",w,Object(r["F"])(t.getAuthData.user_name),1),Object(r["i"])("ul",_,[k,x,A,Object(r["i"])("li",null,[Object(r["i"])("a",{class:"dropdown-item",type:"Button",onClick:e[2]||(e[2]=function(){return i.logout&&i.logout.apply(i,arguments)}),to:"/logout"},"Logout")])])])]))])])])])})),P=n("5530"),y=n("5502"),D={components:{},computed:Object(P["a"])({},Object(y["c"])("auth",{getLoginStatus:"getLoginStatus",getAuthData:"getAuthData",getUserId:"getUserId"})),methods:Object(P["a"])(Object(P["a"])({},Object(y["b"])("auth",{logoutUser:"logoutUser"})),{},{goToHomePage:function(){this.$router.push({name:"Home"})},logout:function(){this.logoutUser(),localStorage.removeItem("vuex"),this.$router.push({name:"Home"})}})};n("df26");D.render=S,D.__scopeId="data-v-3f4f0353";var H=D,E=Object(r["g"])('<div class="container py-4"><div class="d-flex justify-content-center"><p>FastAPI Auth CRUD</p></div><div class="d-flex justify-content-evenly"><div class="container"><a href="https://pages.github.com/">GitHub Pages</a></div><div class="container"><a href="https://github.com/RNubla/FastAPI-Auth-CRUD">Source Code</a></div><div class="container"><a href="https://github.com/RNubla">GitHub Profile</a></div></div><div class="d-flex justify-content-center"><a href="https://github.com/RNubla/FastAPI-Auth-CRUD/blob/main/LICENSE">MIT License</a></div></div>',1);function I(t,e,n,o,a,i){return Object(r["w"])(),Object(r["e"])("footer",null,[E])}var T={};T.render=I;var U=T,C={components:{HeaderNav:H,VFooter:U},setup:function(){var t=Object(y["e"])(),e=Object(r["c"])((function(){return t.getters["auth/loginStatus"]}));return{loginStatus:e}},watch:{$route:function(t){document.title=t.meta.title||"FastAPI Auth CRUD Demo"}}};n("2f13");C.render=i;var R=C,L=n("9483");Object(L["a"])("".concat("/FastAPI-Auth-CRUD/","service-worker.js"),{ready:function(){},registered:function(){},cached:function(){},updatefound:function(){},updated:function(){},offline:function(){},error:function(t){}});var z=n("1da1"),N=(n("96cf"),n("6c02")),V=Object(r["N"])("data-v-18c44302");Object(r["z"])("data-v-18c44302");var M=Object(r["h"])("Add New Post"),B={class:"row row-cols-1 row-cols-md-3 g-4 w-100 px-4 m-auto"};Object(r["x"])();var q=V((function(t,e,n,o,a,i){var s=Object(r["D"])("hero"),c=Object(r["D"])("router-link"),u=Object(r["D"])("card");return Object(r["w"])(),Object(r["e"])(r["a"],null,[Object(r["i"])(s),Object(r["i"])("div",null,[1==o.getLoginStatus?(Object(r["w"])(),Object(r["e"])(c,{key:0,to:"/new-post"},{default:V((function(){return[M]})),_:1})):Object(r["f"])("",!0)]),Object(r["i"])("div",B,[(Object(r["w"])(!0),Object(r["e"])(r["a"],null,Object(r["C"])(o.getAllPosts,(function(t){return Object(r["w"])(),Object(r["e"])(u,{title:t.data.content[0].content[0].text,paragraph:t.data.content[1].content[0].text,author:t.author,published_on:t.published_on,post_id:t.id,user_id:t.user_id,post_data:t.data.content,key:t},null,8,["title","paragraph","author","published_on","post_id","user_id","post_data"])})),128))])],64)})),F=Object(r["N"])("data-v-229896b6");Object(r["z"])("data-v-229896b6");var W=Object(r["i"])("div",{class:"px-4"},[Object(r["i"])("div",{class:"jumbotron"},[Object(r["i"])("h1",{class:"display-4"},"Hello, world!"),Object(r["i"])("p",{class:"lead"}," This is a simple CRUD application written in VueJS for the front-end and FastAPI(Python) for the backend. Users can register and post articles once they have logged in. The authentication for this application uses FastAPI-JWT-Auth which allows the server to send the user an access token and a refresh token. "),Object(r["i"])("hr",{class:"my-4"}),Object(r["i"])("p",null,"Source code is linked below if you want to dabble with it."),Object(r["i"])("p",{class:"lead"},[Object(r["i"])("a",{class:"btn btn-success btn-lg",href:"https://github.com/RNubla/FastAPI-Auth-CRUD",role:"button"},"Source Code")])])],-1),G=Object(r["i"])("div",{class:"fw-bold fs-2"},"Posts",-1);Object(r["x"])();var K=F((function(t,e,n,o,a,i){return Object(r["w"])(),Object(r["e"])(r["a"],null,[W,G],64)})),$={data:function(){return{carousel:{box1:{title:"Welcome",img:"https://images.unsplash.com/photo-1612392062631-94dd858cba88?ixid=MnwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1500&q=80"},box2:{title:"To",img:"https://images.unsplash.com/photo-1618598477738-bf2dc2c09bed?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80"},box3:{title:"The",img:"https://images.unsplash.com/photo-1603468620905-8de7d86b781e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1055&q=80"},box4:{title:"Demo",img:"https://images.unsplash.com/photo-1604964432806-254d07c11f32?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"}}}}};n("2e4a");$.render=K,$.__scopeId="data-v-229896b6";var J=$,Y={class:"col"},Q={class:"card h-100"},X={class:"border"},Z={class:"card-body"},tt={class:"user-select-none"},et={class:"card-text d-block text-truncate",style:{"max-width":"18rem"}},nt={class:"card-footer"},rt={class:"text-muted"};function ot(t,e,n,o,a,i){return Object(r["w"])(),Object(r["e"])("div",Y,[Object(r["i"])("div",Q,[Object(r["i"])("div",X,[Object(r["i"])("img",{src:o.post_image?o.post_image:o.default_post_image,class:"card-img-top img-thumbnail",alt:"...",style:{height:"12rem","object-fit":"cover"}},null,8,["src"])]),Object(r["i"])("div",Z,[Object(r["i"])("h5",{type:"",onClick:e[1]||(e[1]=function(){return o.viewSinglePost&&o.viewSinglePost.apply(o,arguments)}),class:"card-title fw-bold"},[Object(r["i"])("div",tt,Object(r["F"])(n.title),1)]),Object(r["i"])("h6",null,Object(r["F"])(o.convertDate),1),Object(r["i"])("p",et,Object(r["F"])(n.paragraph),1)]),Object(r["i"])("div",nt,[Object(r["i"])("small",rt,Object(r["F"])(n.author),1)])])])}n("d3b7"),n("25f0"),n("5319"),n("ac1f");var at=n("52cd"),it=n.n(at),st={props:{title:String,paragraph:String,author:String,published_on:String,post_id:String,user_id:String,post_data:{}},setup:function(t){var e=Object(y["e"])(),n=Object(N["c"])(),o=function(){var e=it.a.query(t.post_data,"$[?(@.type=='image')]");return e=it.a.query(e,"$[0].attrs.src")[0],e};Object(r["r"])(Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var a=o(),i="https://images.unsplash.com/photo-1604964432806-254d07c11f32?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",s=new Date(t.published_on).toDateString(),c=Object(r["c"])((function(){return e.getters["auth/getUserId"]})),u=function(){return e.dispatch("posts/fetchAPost",t.post_id)};function l(t){return null!==t&&""!==t&&(t=t.toString(),t.replace(/(<([^>]+)>)/gi,""))}function d(){return b.apply(this,arguments)}function b(){return b=Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return e.next=4,n.push({name:"Post",params:{id:t.post_id}});case 4:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return{getUserId:c,viewSinglePost:d,removeTitleTag:l,convertDate:s,post_image:a,default_post_image:i}},methods:{}};st.render=ot;var ct=st,ut={name:"Home",components:{Hero:J,Card:ct},setup:function(){var t=Object(y["e"])(),e=Object(r["c"])((function(){return t.getters["posts/getAllPosts"]})),n=Object(r["c"])((function(){return t.getters["posts/getPostID"]})),o=Object(r["c"])((function(){return t.getters["auth/getLoginStatus"]}));t.dispatch("posts/getAllPosts");return Object(r["u"])((function(){})),{getAllPosts:e,getPostId:n,getLoginStatus:o}}};n("0164");ut.render=q,ut.__scopeId="data-v-18c44302";var lt=ut,dt={class:"flex mx-auto px-24 mt-1 rounded-lg justify-center"},bt={class:"flex items-center"};function ht(t,e,n,o,a,i){var s=Object(r["D"])("register");return Object(r["w"])(),Object(r["e"])("div",dt,[Object(r["i"])("div",bt,[Object(r["i"])(s)])])}var pt={class:"container bg-light mt-5 pt-5 pb-5"},ft=Object(r["i"])("p",{class:"fw-bold fs-4"},"Sign Up",-1),gt={class:"input-group flex-nowrap mb-3"},mt=Object(r["i"])("div",{class:"invalid-feedback"},"Please enter Fullname",-1),vt={class:"input-group flex-nowrap mb-3"},Ot=Object(r["i"])("span",{class:"input-group-text",id:"addon-usernameHelp"},"@",-1),jt=Object(r["i"])("div",{class:"invalid-feedback"},"Please enter a username",-1),wt={class:"input-group flex-nowrap mb-3"},_t=Object(r["i"])("div",{class:"invalid-feedback"},"Please enter an email",-1),kt={class:"input-group flex-nowrap mb-3"},xt=Object(r["i"])("button",{type:"submit",class:"btn btn-primary"},"Register Now",-1);function At(t,e,n,o,a,i){return Object(r["w"])(),Object(r["e"])("div",{style:{height:a.variantHeight}},[Object(r["i"])("div",pt,[ft,Object(r["i"])("form",{class:"container needs-validation",onSubmit:e[5]||(e[5]=Object(r["M"])((function(){return i.checkForm&&i.checkForm.apply(i,arguments)}),["prevent"]))},[Object(r["i"])("div",gt,[Object(r["L"])(Object(r["i"])("input",{type:"text",class:"form-control",id:"validationFullname","aria-label":"Fullname",placeholder:"John Smith","aria-describedby":"fullnameHelp","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.newUser.user_fullname=t}),required:""},null,512),[[r["I"],a.newUser.user_fullname]]),mt]),Object(r["i"])("div",vt,[Ot,Object(r["L"])(Object(r["i"])("input",{type:"text",class:"form-control",id:"validationUsername","aria-label":"Username",placeholder:"Username","aria-describedby":"usernameHelp","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.newUser.user_name=t}),required:""},null,512),[[r["I"],a.newUser.user_name]]),jt]),Object(r["i"])("div",wt,[Object(r["L"])(Object(r["i"])("input",{type:"email",class:"form-control",id:"validationEmail","aria-label":"Email",placeholder:"johnsmith@example.com","aria-describedby":"emailHelp","onUpdate:modelValue":e[3]||(e[3]=function(t){return a.newUser.email=t}),required:""},null,512),[[r["I"],a.newUser.email]]),_t]),Object(r["i"])("div",kt,[Object(r["L"])(Object(r["i"])("input",{type:"password",placeholder:"Password",class:"form-control",id:"newUserPassword","onUpdate:modelValue":e[4]||(e[4]=function(t){return a.newUser.password=t}),required:""},null,512),[[r["I"],a.newUser.password]])]),xt],32)])],4)}var St={data:function(){return{errors:[],variantHeight:"100vh",newUser:{user_name:null,email:null,password:null,user_fullname:null}}},methods:Object(P["a"])(Object(P["a"])({},Object(y["b"])("register",{registerUser:"registerUser"})),{},{checkForm:function(){this.errors=[],0===this.errors.length&&(this.registerUser(this.newUser),this.newUser="",this.$router.push({name:"Login"}))}})};St.render=At;var Pt=St,yt={components:{Register:Pt}};yt.render=ht;var Dt=yt;function Ht(t,e,n,o,a,i){var s=Object(r["D"])("login",!0);return Object(r["w"])(),Object(r["e"])(s)}var Et={class:"container bg-light mt-5 pt-5 pb-5"},It=Object(r["i"])("p",{class:"fw-bold fs-4"},"Login",-1),Tt={class:"input-group flex-nowrap mb-3"},Ut=Object(r["i"])("span",{class:"input-group-text",id:"addon-usernameHelp"},"@",-1),Ct=Object(r["i"])("div",{class:"invalid-feedback"},"Please enter a username",-1),Rt={class:"input-group flex-nowrap mb-3"},Lt=Object(r["i"])("button",{type:"submit",class:"btn btn-primary"},"Log In",-1);function zt(t,e,n,o,a,i){return Object(r["w"])(),Object(r["e"])("div",{style:{height:a.variantHeight}},[Object(r["i"])("div",Et,[It,Object(r["i"])("form",{class:"container needs-validation",onSubmit:e[3]||(e[3]=Object(r["M"])((function(){return i.login&&i.login.apply(i,arguments)}),["prevent"]))},[Object(r["i"])("div",Tt,[Ut,Object(r["L"])(Object(r["i"])("input",{type:"text",class:"form-control",id:"validationUsername","aria-label":"Username",placeholder:"Username","aria-describedby":"usernameHelp","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.loginInputs.user_name=t}),required:""},null,512),[[r["I"],a.loginInputs.user_name]]),Ct]),Object(r["i"])("div",Rt,[Object(r["L"])(Object(r["i"])("input",{type:"password",placeholder:"Password",class:"form-control",id:"exampleInputPassword1","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.loginInputs.password=t}),required:""},null,512),[[r["I"],a.loginInputs.password]])]),Lt],32)])],4)}var Nt={data:function(){return{variantHeight:"100vh",errors:[],forms:document.querySelectorAll(".needs-validation"),storedUser:null,loginInputs:{user_name:null,password:null}}},computed:Object(P["a"])(Object(P["a"])({},Object(y["d"])({})),Object(y["c"])("auth",{getLoginStatus:"getLoginStatus"})),methods:Object(P["a"])(Object(P["a"])({},Object(y["b"])("auth",{loginUser:"loginUser"})),{},{login:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.storedUser=t.loginUserInputs,0!==t.errors.length){e.next=5;break}return e.next=4,t.loginUser(t.loginInputs);case 4:!0===t.getLoginStatus?t.$router.push("/"):alert("Username or password might be incorrect");case 5:case"end":return e.stop()}}),e)})))()}})};Nt.render=zt;var Vt=Nt,Mt={components:{Login:Vt}};Mt.render=Ht;var Bt=Mt;function qt(t,e,n,o,a,i){return Object(r["w"])(),Object(r["e"])("div",{onClick:e[1]||(e[1]=function(){return t.logoutUser&&t.logoutUser.apply(t,arguments)})},"Log Out")}var Ft={methods:Object(P["a"])({},Object(y["b"])("auth",{logoutUser:"logoutUser"}))};Ft.render=qt;var Wt=Ft;function Gt(t,e,n,o,a,i){var s=Object(r["D"])("new-post",!0);return Object(r["w"])(),Object(r["e"])(s)}var Kt=Object(r["i"])("div",{class:"text-2xl font-bold"},"Submit",-1);function $t(t,e,n,o,a,i){var s=Object(r["D"])("tools"),c=Object(r["D"])("editor-content");return Object(r["w"])(),Object(r["e"])("div",null,[Object(r["i"])(s,{editor:a.editor},null,8,["editor"]),Object(r["i"])(c,{editor:a.editor},null,8,["editor"]),Object(r["i"])("div",{type:"button",onClick:e[1]||(e[1]=function(){return i.submitPost&&i.submitPost.apply(i,arguments)}),class:""},[Kt])])}var Jt=n("2909"),Yt=(n("99af"),n("c1e2")),Qt=n("672a"),Xt=n("4377"),Zt=n("5924"),te=n("97a2"),ee=n("1d91"),ne=n("64fe"),re=n("1037"),oe=n("056c"),ae=Object(r["N"])("data-v-b7d8797a");Object(r["z"])("data-v-b7d8797a");var ie={key:0,class:"grid"},se=Object(r["i"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[Object(r["i"])("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(r["i"])("path",{d:"M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z"})],-1),ce=Object(r["i"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[Object(r["i"])("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(r["i"])("path",{d:"M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z"})],-1),ue=Object(r["i"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[Object(r["i"])("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(r["i"])("path",{d:"M17.154 14c.23.516.346 1.09.346 1.72 0 1.342-.524 2.392-1.571 3.147C14.88 19.622 13.433 20 11.586 20c-1.64 0-3.263-.381-4.87-1.144V16.6c1.52.877 3.075 1.316 4.666 1.316 2.551 0 3.83-.732 3.839-2.197a2.21 2.21 0 0 0-.648-1.603l-.12-.117H3v-2h18v2h-3.846zm-4.078-3H7.629a4.086 4.086 0 0 1-.481-.522C6.716 9.92 6.5 9.246 6.5 8.452c0-1.236.466-2.287 1.397-3.153C8.83 4.433 10.271 4 12.222 4c1.471 0 2.879.328 4.222.984v2.152c-1.2-.687-2.515-1.03-3.946-1.03-2.48 0-3.719.782-3.719 2.346 0 .42.218.786.654 1.099.436.313.974.562 1.613.75.62.18 1.297.414 2.03.699z"})],-1),le=Object(r["i"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[Object(r["i"])("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(r["i"])("path",{d:"M23 12l-7.071 7.071-1.414-1.414L20.172 12l-5.657-5.657 1.414-1.414L23 12zM3.828 12l5.657 5.657-1.414 1.414L1 12l7.071-7.071 1.414 1.414L3.828 12z"})],-1),de=Object(r["i"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[Object(r["i"])("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(r["i"])("path",{d:"M4 18v-3.7a1.5 1.5 0 0 0-1.5-1.5H2v-1.6h.5A1.5 1.5 0 0 0 4 9.7V6a3 3 0 0 1 3-3h1v2H7a1 1 0 0 0-1 1v4.1A2 2 0 0 1 4.626 12 2 2 0 0 1 6 13.9V18a1 1 0 0 0 1 1h1v2H7a3 3 0 0 1-3-3zm16-3.7V18a3 3 0 0 1-3 3h-1v-2h1a1 1 0 0 0 1-1v-4.1a2 2 0 0 1 1.374-1.9A2 2 0 0 1 18 10.1V6a1 1 0 0 0-1-1h-1V3h1a3 3 0 0 1 3 3v3.7a1.5 1.5 0 0 0 1.5 1.5h.5v1.6h-.5a1.5 1.5 0 0 0-1.5 1.5z"})],-1),be=Object(r["i"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[Object(r["i"])("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(r["i"])("path",{d:"M3 4h18v2H3V4zm0 15h14v2H3v-2zm0-5h18v2H3v-2zm0-5h14v2H3V9z"})],-1),he=Object(r["i"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[Object(r["i"])("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(r["i"])("path",{d:"M3 4h18v2H3V4zm2 15h14v2H5v-2zm-2-5h18v2H3v-2zm2-5h14v2H5V9z"})],-1),pe=Object(r["i"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[Object(r["i"])("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(r["i"])("path",{d:"M3 4h18v2H3V4zm4 15h14v2H7v-2zm-4-5h18v2H3v-2zm4-5h14v2H7V9z"})],-1),fe=Object(r["i"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[Object(r["i"])("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(r["i"])("path",{d:"M12 6v15h-2v-5a6 6 0 1 1 0-12h10v2h-3v15h-2V6h-3zm-2 0a4 4 0 1 0 0 8V6z"})],-1);Object(r["x"])();var ge=ae((function(t,e,n,o,a,i){return Object(r["w"])(),Object(r["e"])("div",null,[n.editor?(Object(r["w"])(),Object(r["e"])("div",ie,[Object(r["i"])("button",{onClick:e[1]||(e[1]=function(t){return n.editor.chain().focus().toggleBold().run()}),class:{"is-active":n.editor.isActive("bold")}},[se],2),Object(r["i"])("button",{onClick:e[2]||(e[2]=function(t){return n.editor.chain().focus().toggleItalic().run()}),class:{"is-active":n.editor.isActive("italic")}},[ce],2),Object(r["i"])("button",{onClick:e[3]||(e[3]=function(t){return n.editor.chain().focus().toggleStrike().run()}),class:{"is-active":n.editor.isActive("strike")}},[ue],2),Object(r["i"])("button",{onClick:e[4]||(e[4]=function(t){return n.editor.chain().focus().toggleCode().run()}),class:{"is-active":n.editor.isActive("code")}},[le],2),Object(r["i"])("button",{onClick:e[5]||(e[5]=function(t){return n.editor.chain().focus().unsetAllMarks().run()})}," clear marks "),Object(r["i"])("button",{onClick:e[6]||(e[6]=function(t){return n.editor.chain().focus().clearNodes().run()})}," clear nodes "),Object(r["i"])("button",{onClick:e[7]||(e[7]=function(t){return n.editor.chain().focus().toggleHeading({level:1}).run()}),class:{"is-active":n.editor.isActive("heading",{level:1})}}," h1 ",2),Object(r["i"])("button",{onClick:e[8]||(e[8]=function(t){return n.editor.chain().focus().toggleHeading({level:2}).run()}),class:{"is-active":n.editor.isActive("heading",{level:2})}}," h2 ",2),Object(r["i"])("button",{onClick:e[9]||(e[9]=function(t){return n.editor.chain().focus().toggleHeading({level:3}).run()}),class:{"is-active":n.editor.isActive("heading",{level:3})}}," h3 ",2),Object(r["i"])("button",{onClick:e[10]||(e[10]=function(t){return n.editor.chain().focus().toggleHeading({level:4}).run()}),class:{"is-active":n.editor.isActive("heading",{level:4})}}," h4 ",2),Object(r["i"])("button",{onClick:e[11]||(e[11]=function(t){return n.editor.chain().focus().toggleHeading({level:5}).run()}),class:{"is-active":n.editor.isActive("heading",{level:5})}}," h5 ",2),Object(r["i"])("button",{onClick:e[12]||(e[12]=function(t){return n.editor.chain().focus().toggleHeading({level:6}).run()}),class:{"is-active":n.editor.isActive("heading",{level:6})}}," h6 ",2),Object(r["i"])("button",{onClick:e[13]||(e[13]=function(t){return n.editor.chain().focus().toggleBulletList().run()}),class:{"is-active":n.editor.isActive("bulletList")}}," bullet list ",2),Object(r["i"])("button",{onClick:e[14]||(e[14]=function(t){return n.editor.chain().focus().toggleOrderedList().run()}),class:{"is-active":n.editor.isActive("orderedList")}}," ordered list ",2),Object(r["i"])("button",{onClick:e[15]||(e[15]=function(t){return n.editor.chain().focus().toggleCodeBlock().run()}),class:{"is-active":n.editor.isActive("codeBlock")}},[de],2),Object(r["i"])("button",{onClick:e[16]||(e[16]=function(t){return n.editor.chain().focus().toggleBlockquote().run()}),class:{"is-active":n.editor.isActive("blockquote")}}," blockquote ",2),Object(r["i"])("button",{onClick:e[17]||(e[17]=function(t){return n.editor.chain().focus().setHorizontalRule().run()})}," horizontal rule "),Object(r["i"])("button",{onClick:e[18]||(e[18]=function(t){return n.editor.chain().focus().setHardBreak().run()})}," hard break "),Object(r["i"])("button",{onClick:e[19]||(e[19]=function(t){return n.editor.chain().focus().undo().run()})},"undo"),Object(r["i"])("button",{onClick:e[20]||(e[20]=function(t){return n.editor.chain().focus().redo().run()})},"redo"),Object(r["i"])("button",{onClick:e[21]||(e[21]=function(t){return n.editor.chain().focus().setTextAlign("left").run()}),class:{"is-active":n.editor.isActive({textAlign:"left"})}},[be],2),Object(r["i"])("button",{onClick:e[22]||(e[22]=function(t){return n.editor.chain().focus().setTextAlign("center").run()}),class:{"is-active":n.editor.isActive({textAlign:"center"})}},[he],2),Object(r["i"])("button",{onClick:e[23]||(e[23]=function(t){return n.editor.chain().focus().setTextAlign("right").run()}),class:{"is-active":n.editor.isActive({textAlign:"right"})}},[pe],2),Object(r["i"])("button",{onClick:e[24]||(e[24]=function(t){return n.editor.chain().focus().setParagraph().run()}),class:{"is-active":n.editor.isActive("paragraph")}},[fe],2),Object(r["i"])("button",{onClick:e[25]||(e[25]=function(){return i.addImage&&i.addImage.apply(i,arguments)})},"Image")])):Object(r["f"])("",!0)])})),me={props:{editor:null},methods:{addImage:function(){var t=window.prompt("URL");t&&this.editor.chain().focus().setImage({src:t}).run()}}};n("eaf6");me.render=ge,me.__scopeId="data-v-b7d8797a";var ve=me,Oe={components:{EditorContent:Yt["b"],Tools:ve},data:function(){return{editor:null,json:null,data:null,inputPost:{data:null,published_on:new Date}}},methods:Object(P["a"])(Object(P["a"])({},Object(y["b"])("posts",{addPost:"addPost"})),{},{addImage:function(){var t=window.prompt("URL");t&&this.editor.chain().focus().setImage({src:t}).run()},submitPost:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.inputPost.data=t.json,e.next=3,t.addPost(t.inputPost);case 3:t.$router.push({name:"Home"});case 4:case"end":return e.stop()}}),e)})))()}}),mounted:function(){var t=this;this.editor=new Yt["a"]({extensions:[].concat(Object(Jt["a"])(Object(Qt["a"])()),[Xt["a"],Zt["a"],ee["a"],te["a"],ne["a"],oe["a"],re["a"]]),editorProps:{attributes:{spellchekc:"false"}}}),this.json=this.editor.getJSON(),this.editor.on("update",(function(){t.json=t.editor.getJSON()}))},beforeUnmount:function(){this.editor.destroy()}};n("c06e");Oe.render=$t;var je=Oe,we={components:{NewPost:je}};we.render=Gt;var _e=we;function ke(t,e,n,o,a,i){var s=Object(r["D"])("edit-post-v-2");return Object(r["w"])(),Object(r["e"])(s,{data:t.getSinglePost.data},null,8,["data"])}var xe={class:"flex flex-col justify-between"},Ae={key:0},Se=Object(r["i"])("b",null,"Please correct the following error(s):",-1),Pe=Object(r["i"])("div",null,[Object(r["i"])("h1",{class:"font-bold text-2xl"},"Editing Post")],-1),ye=Object(r["i"])("div",{class:"",id:"codex-editor"},null,-1),De=Object(r["i"])("div",{class:"text-2xl font-bold"}," Update ",-1);function He(t,e,n,o,a,i){return Object(r["w"])(),Object(r["e"])("div",xe,[a.errors.length?(Object(r["w"])(),Object(r["e"])("p",Ae,[Se,Object(r["i"])("ul",null,[(Object(r["w"])(!0),Object(r["e"])(r["a"],null,Object(r["C"])(a.errors,(function(t){return Object(r["w"])(),Object(r["e"])("li",{key:t},Object(r["F"])(t),1)})),128))])])):Object(r["f"])("",!0),Pe,ye,Object(r["i"])("div",{onClick:e[1]||(e[1]=function(){return i.submitEditPost&&i.submitEditPost.apply(i,arguments)}),type:"button",class:"fixed h-16 w-full bottom-0 bg-yellow-400 hover:bg-yellow-500 flex items-center justify-center z-10 "},[De])])}var Ee=n("9336"),Ie=n.n(Ee),Te=n("9e63"),Ue=n.n(Te),Ce=n("71c0"),Re=n.n(Ce),Le=n("b395"),ze=n.n(Le),Ne=n("fda2"),Ve={props:{data:Object},data:function(){return{errors:[],window:Object,inputEditPost:{}}},methods:Object(P["a"])(Object(P["a"])({},Object(y["b"])("posts",{editAPost:"editAPost"})),{},{submitEditPost:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.saved();case 2:if(t.errors=[],0!==t.errors.length){e.next=8;break}return e.next=6,t.editAPost(t.inputEditPost);case 6:return e.next=8,t.$router.push({name:"Home"});case 8:case"end":return e.stop()}}),e)})))()},saved:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.window.editor.save().then((function(e){t.value=e,t.inputEditPost.data=t.value}));case 2:case"end":return e.stop()}}),e)})))()},myEditor:function(){this.window.editor=new Ie.a({readOnly:!1,holder:"codex-editor",placeholder:"Let`s write an awesome story!",autofocus:!0,inlineToolbar:!0,data:this.fetchedData,defaultBlock:"paragraph",tools:{style:Ne["StyleInlineTool"],image:{class:ze.a,inlineToolbar:!0},list:{class:Re.a},paragraph:{class:Ue.a}},onReady:function(){},onChange:function(){}})}}),created:function(){this.fetchedData=this.data,this.myEditor()}};Ve.render=He;var Me=Ve,Be={components:{EditPostV2:Me},computed:Object(P["a"])({},Object(y["c"])("posts",{getSinglePost:"getSinglePost"}))};Be.render=ke;var qe=Be;function Fe(t,e,n,o,a,i){var s=Object(r["D"])("view-post");return Object(r["w"])(),Object(r["e"])(s,{body:o.getSinglePost},null,8,["body"])}var We={key:0},Ge=Object(r["i"])("label",{for:"editable"},"Edit",-1),Ke=Object(r["i"])("br",null,null,-1),$e=Object(r["i"])("div",{class:"text-2xl font-bold"},"Submit",-1);function Je(t,e,n,o,a,i){var s=Object(r["D"])("tools"),c=Object(r["D"])("editor-content");return Object(r["w"])(),Object(r["e"])("div",{style:{height:a.variantHeight}},[t.getUserId===n.body.user_id?(Object(r["w"])(),Object(r["e"])("div",We,[Object(r["L"])(Object(r["i"])("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.editable=t})},null,512),[[r["H"],a.editable]]),Ge,Ke,t.getUserId===n.body.user_id&&a.editable?(Object(r["w"])(),Object(r["e"])("button",{key:0,onClick:e[2]||(e[2]=function(){return i.DeletePost&&i.DeletePost.apply(i,arguments)})}," Delete Post ")):Object(r["f"])("",!0),t.getUserId===n.body.user_id&&a.editable?(Object(r["w"])(),Object(r["e"])(s,{key:1,editor:a.editor,modelValue:a.editable,"onUpdate:modelValue":e[3]||(e[3]=function(t){return a.editable=t})},null,8,["editor","modelValue"])):Object(r["f"])("",!0)])):Object(r["f"])("",!0),Object(r["i"])(c,{editor:a.editor},null,8,["editor"]),t.getUserId===n.body.user_id&&a.editable?(Object(r["w"])(),Object(r["e"])("div",{key:1,type:"button",onClick:e[4]||(e[4]=function(){return i.submitEditPost&&i.submitEditPost.apply(i,arguments)})},[$e])):Object(r["f"])("",!0)],4)}var Ye={components:{EditorContent:Yt["b"],Tools:ve},props:{body:{}},data:function(){return{windowWidth:window.innerWidth,windowHeight:window.innerHeight,variantHeight:"",user_id:null,editor:null,json:null,editable:!1,inputPost:{data:null,published_on:new Date}}},unmounted:function(){window.removeEventListener("resize",window.onresize)},computed:Object(P["a"])(Object(P["a"])({},Object(y["c"])("auth",{getUserId:"getUserId"})),Object(y["c"])("posts",{getPostID:"getPostID"})),watch:{editable:function(){this.editor.setEditable(this.editable)}},beforeMount:function(){var t=this;this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.variantHeight=this.windowWidth>this.windowHeight?"100vh":"auto",window.onresize=function(){t.windowWidth=window.innerWidth,t.windowHeight=window.innerHeight,t.windowWidth<t.windowHeight&&(t.variantHeight="100vh",t.windowWidth<=415&&(t.variantHeight="auto")),t.windowWidth>t.windowHeight&&t.windowHeight>1024&&(t.variantHeight="100vh")},this.editor=new Yt["a"]({editable:this.editable,extensions:[].concat(Object(Jt["a"])(Object(Qt["a"])()),[Xt["a"],Zt["a"],ee["a"],te["a"],ne["a"],oe["a"],re["a"]]),content:this.body.data}),this.json=this.editor.getJSON(),this.editor.on("update",(function(){t.json=t.editor.getJSON()}))},methods:Object(P["a"])(Object(P["a"])(Object(P["a"])({},Object(y["b"])("posts",{editAPost:"editAPost"})),Object(y["b"])("posts",{deleteCurrentPost:"deleteCurrentPost"})),{},{DeletePost:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.deleteCurrentPost(t.body.id),e.next=3,t.$router.push({name:"Home"});case 3:case"end":return e.stop()}}),e)})))()},submitEditPost:function(){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.inputPost.data=t.json,e.next=3,t.editAPost(t.inputPost);case 3:return e.next=5,t.$router.push({name:"Home"});case 5:case"end":return e.stop()}}),e)})))()},currentUserPost:function(){},setContent:function(){this.editor.commands.setContent(this.data,!0),this.editor.commands.focus()},clearContent:function(){this.editor.chain().clearContent(!0).focus().run()}}),beforeUnmount:function(){this.editor.destroy()}};n("e536");Ye.render=Je;var Qe=Ye,Xe={components:{ViewPost:Qe},setup:function(){var t=Object(y["e"])(),e=Object(r["c"])((function(){return t.getters["posts/getSinglePost"]}));return{getSinglePost:e}}};Xe.render=Fe;var Ze=Xe,tn=(n("4c53"),n("bc3a")),en=n.n(tn);n("1276"),n("a15b"),n("d81d"),n("fb6a");function nn(t){var e=t.split(".")[1],n=e.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(r)}function rn(t){return!(Date.now()>=1e3*t)}var on=function(){return{authData:{access_token:"",refresh_token:"",tokenExp:"",user_name:""},user_id:"",loginStatus:null}},an={getLoginStatus:function(t){return t.loginStatus},getAuthData:function(t){return t.authData},getUserId:function(t){return t.user_id},isTokenActive:function(t){return!!t.authData.tokenExp&&rn(t.authData.tokenExp)}},sn={loginUser:function(t,e){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,n.next=3,en.a.post("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/auth/login"),e).then((function(t){r("SAVE_USER_ID",t.data.data._id),r("SAVE_TOKEN_DATA",t.data.data),r("SET_LOGIN_STATUS",!0)})).catch((function(t){r("SET_LOGIN_STATUS",!1)}));case 3:case"end":return n.stop()}}),n)})))()},logoutUser:function(t){var e=t.commit;e("REMOVE_TOKEN_DATA"),e("SET_LOGIN_STATUS",!1)}},cn={SAVE_TOKEN_DATA:function(t,e){if(null==e){sessionStorage.setItem("access_token",""),sessionStorage.setItem("refresh_token","");var n={access_token:"",refresh_token:"",tokenExp:"",user_name:""};t.authData=n}else{sessionStorage.setItem("user_id",e._id),sessionStorage.setItem("access_token",e.access_token),sessionStorage.setItem("refresh_token",e.refresh_token);var r=nn(e.access_token),o={access_token:e.access_token,refresh_token:e.refresh_token,tokenExp:r.exp,user_name:r.sub};t.authData=o}},SAVE_NEW_ACCESS_TOKEN_DATA:function(t,e){sessionStorage.setItem("access_token",e.access_token);var n=nn(e.access_token),r={access_token:e.access_token,refresh_token:sessionStorage.getItem("refresh_token"),tokenExp:n.exp,user_name:n.sub};t.authData=r},SET_LOGIN_STATUS:function(t,e){t.loginStatus=e},SAVE_USER_ID:function(t,e){t.user_id=e},REMOVE_TOKEN_DATA:function(t){t.authData={},t.user_id="",sessionStorage.removeItem("vuex"),sessionStorage.removeItem("access_token"),sessionStorage.removeItem("refresh_token"),sessionStorage.removeItem("user_id"),sessionStorage.clear()}},un={namespaced:!0,state:on,getters:an,actions:sn,mutations:cn},ln=en.a.create({});ln.interceptors.request.use((function(t){var e=xn.getters["auth/getAuthData"];return null==e||(t.headers.common["Authorization"]="bearer ".concat(e.access_token)),t})),ln.interceptors.response.use((function(t){return t}),function(){var t=Object(z["a"])(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(401!==e.response.status){t.next=12;break}return n=xn.getters["auth/getAuthData"],r={access_token:n.access_token,refresh_token:n.refresh_token},t.next=5,en.a.post("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/auth/refresh"),r.refresh_token).then((function(t){})).catch((function(t){}));case 5:return o=t.sent,t.next=8,xn.dispatch("auth/SAVE_TOKEN_DATA",o.data);case 8:return e.config.headers["Authorization"]="bearer ".concat(o.data.access_token),t.abrupt("return",en()(e.config));case 12:return t.abrupt("return",Promise.reject(e));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var dn=ln,bn=function(){return{posts:[],singlePostId:"",postIdDelete:"",singlePost:{},inputPost:{title:null,body:null,post_img:"something here",published_on:(new Date).toUTCString}}},hn={getAllPosts:function(t){return t.posts},getPostID:function(t){return t.singlePostId},getSinglePost:function(t){return t.singlePost}},pn={getAllPosts:function(t){return Object(z["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,dn.get("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/posts"));case 3:r=e.sent,r&&r.data&&n("SET_POSTS",r.data.data);case 5:case"end":return e.stop()}}),e)})))()},fetchAPost:function(t,e){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,o=t.state,r("SET_SINGLE_POST_ID",e),n.next=4,dn.get("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/posts/").concat(o.singlePostId));case 4:a=n.sent,a&&a.data&&r("SET_SINGLE_POST",a.data.data);case 6:case"end":return n.stop()}}),n)})))()},editAPost:function(t,e){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.state,o=xn.getters["auth/getAuthData"],a=xn.getters["auth/isTokenActive"],0!=a){n.next=9;break}return i={refresh_token:o.refresh_token},n.next=7,en.a.post("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/auth/refresh"),"",{headers:{Authorization:"Bearer ".concat(i.refresh_token)}}).catch((function(t){}));case 7:s=n.sent,xn.commit("auth/SAVE_NEW_ACCESS_TOKEN_DATA",s.data);case 9:return n.next=11,dn.put("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/posts/").concat(r.singlePostId),e,{headers:{Authorization:"Bearer ".concat(xn.getters["auth/getAuthData"].access_token)}});case 11:c=n.sent,c&&c.data;case 13:case"end":return n.stop()}}),n)})))()},addPost:function(t,e){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i,s,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.commit,o=t.state,r("SET_INPUT_POST",e),a=xn.getters["auth/getAuthData"],i=xn.getters["auth/isTokenActive"],0!=i){n.next=10;break}return s={refresh_token:a.refresh_token},n.next=8,en.a.post("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/auth/refresh"),"",{headers:{Authorization:"Bearer ".concat(s.refresh_token)}}).catch((function(t){}));case 8:c=n.sent,xn.commit("auth/SAVE_NEW_ACCESS_TOKEN_DATA",c.data);case 10:return n.next=12,dn.post("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/posts/"),o.inputPost,{headers:{Authorization:"Bearer ".concat(xn.getters["auth/getAuthData"].access_token)}});case 12:u=n.sent,u&&u.data&&r("ADD_POST",u.data.data);case 14:case"end":return n.stop()}}),n)})))()},deleteCurrentPost:function(t,e){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i,s,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.commit,o=t.state,r("SET_POST_ID_DELETE",e),a=xn.getters["auth/getAuthData"],i=xn.getters["auth/isTokenActive"],0!=i){n.next=10;break}return s={refresh_token:a.refresh_token},n.next=8,en.a.post("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/auth/refresh"),"",{headers:{Authorization:"Bearer ".concat(s.refresh_token)}}).catch((function(t){}));case 8:c=n.sent,xn.commit("auth/SAVE_NEW_ACCESS_TOKEN_DATA",c.data);case 10:return n.next=12,dn.delete("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/posts/").concat(o.postIdDelete),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(xn.getters["auth/getAuthData"].access_token)}});case 12:u=n.sent,u&&u.data;case 14:case"end":return n.stop()}}),n)})))()}},fn={SET_POSTS:function(t,e){t.posts=e},SET_INPUT_POST:function(t,e){t.inputPost=e},ADD_POST:function(t,e){t.posts.push(e)},SET_SINGLE_POST_ID:function(t,e){t.singlePostId=e},SET_SINGLE_POST:function(t,e){t.singlePost=e},SET_POST_ID_DELETE:function(t,e){t.postIdDelete=e}},gn={namespaced:!0,state:bn,getters:hn,actions:pn,mutations:fn},mn=function(){return{newUser:{user_name:null,email:null,password:null,user_fullname:null}}},vn={registerUser:function(t,e){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,n.next=3,en.a.post("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/auth/register"),e).then((function(t){r("SET_NEW_USER",e)})).catch((function(t){}));case 3:case"end":return n.stop()}}),n)})))()}},On={SET_NEW_USER:function(t,e){t.newUser=e}},jn={namespaced:!0,state:mn,actions:vn,mutations:On},wn=n("0e44"),_n=Object(wn["a"])({storage:window.sessionStorage,paths:["auth.authData","auth.loginStatus","auth.user_id","posts.singlePost"]}),kn=Object(y["a"])({modules:{auth:un,posts:gn,register:jn},plugins:[_n]}),xn=kn,An=[{path:"/",name:"Home",component:lt,meta:{requiredAuth:!1,title:"Home"}},{path:"/new-post",name:"NewPost",component:_e,meta:{requiredAuth:!0,title:"New Post"}},{path:"/posts/:id",name:"Post",meta:{requiredAuth:!1},component:Ze},{path:"/edit/posts/:id",name:"EditPost",component:qe,meta:{requiredAuth:!0}},{path:"/register",name:"Registration",component:Dt,meta:{requiredAuth:!1,title:"Register"}},{path:"/login",name:"Login",component:Bt,meta:{requiredAuth:!1,title:"Login"}},{path:"/logout",name:"Logout",meta:{requiredAuth:!1},component:Wt}],Sn=Object(N["a"])({history:Object(N["b"])("/FastAPI-Auth-CRUD/"),routes:An}),Pn=Sn;Sn.beforeEach(function(){var t=Object(z["a"])(regeneratorRuntime.mark((function t(e,n,r){var o,a,i,s,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.matched.some((function(t){return t.meta.requiredAuth}))){t.next=19;break}if(null!=!xn.getters["auth/getLoginStatus"]&&xn.getters["auth/getLoginStatus"]&&xn.getters["auth/getAuthData"].access_token){t.next=5;break}r({name:"Login"}),t.next=17;break;case 5:if(xn.getters["auth/getAuthData"].access_token||(o=sessionStorage.getItem("access_token"),a=sessionStorage.getItem("refresh_token"),o&&(i={access_token:o,refresh_token:a},xn.commit("auth/SAVE_TOKEN_DATA",i))),s=xn.getters["auth/isTokenActive"],s){t.next=16;break}if(c=xn.getters["auth/getAuthData"],!c.access_token){t.next=16;break}return u={refresh_token:c.refresh_token},t.next=13,en.a.post("".concat("https://fastapi-auth-crud-demo.herokuapp.com","/auth/refresh"),"",{headers:{Authorization:"Bearer ".concat(u.refresh_token)}}).catch((function(t){}));case 13:l=t.sent,xn.commit("auth/SAVE_NEW_ACCESS_TOKEN_DATA",l.data),s=!0;case 16:r();case 17:t.next=20;break;case 19:r();case 20:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}());n("ab8b"),n("7b17");Object(r["d"])(R).use(xn).use(Pn).mount("#app")},"6f20":function(t,e,n){},"8bb1":function(t,e,n){},c06e:function(t,e,n){"use strict";n("8bb1")},d110:function(t,e,n){},de97:function(t,e,n){},df26:function(t,e,n){"use strict";n("6f20")},e455:function(t,e,n){},e536:function(t,e,n){"use strict";n("de97")},eaf6:function(t,e,n){"use strict";n("4f8a")}});
//# sourceMappingURL=app.dfc9a0ed.js.map